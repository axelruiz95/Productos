@using eRoute.Helpers

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Menu/Index.cshtml";
    string sPermiso = ViewBag.Permiso;
}
<style>
       /*@@media (min-width: 992px)
        {
            .col-md-1 {
                width: 9.333333%;
            }
        }
       @@media (min-width: 992px)
        {
            .col-md-2 {
                width: 15.666667%;
            }
       }*/
      .trash-seg{
        position: relative;
        top: 1px;
        left: -7px !important;
      }
      .fa-lg {
        font-size: 1.3em;
        line-height: .75em;
        vertical-align: -15%;
    }

      @@media screen and (min-width: 768px)
      {
        .modal-dialog {
            width: 608px;
        }
      }
    .fa {
        color: rgb(179, 0, 0);
    }

</style>


<div class="container valores margen-tabla" ng-controller="segmentosController" ng-init="AsignarPermisoSegmentos('@ViewBag.Permiso','@ViewBag.Action')">

    <!--Encabezado-->
    <div class="row " @*form-group*@>   
        <div class="col-md-12 header">
            <h3 class="titulo-altura">{{translation.XAEsquemas}}</h3>
        </div>
    </div>

    <!--Controles y Paginación-->
    <div class="row header-valores">
        <!--Crear-->
        <div class="col-md-1">
            @{  if (sPermiso.Contains("C"))
                {
                    @Html.ImageActionLink("../Content/images/crear.png", Url.Action("Create", new { Permiso = ViewBag.Permiso }), "{{translation.BTCrear}}")
                }
            }
        </div>
        <!--Actualizar-->
        <div class="col-md-2">
            @Html.ImageActionLink("../Content/images/actualizar.png", Url.Action("Index", new { Permiso = ViewBag.Permiso }), "{{translation.BTActualizar}}")
        </div>
        
        <!--Paginacion-->
        <div class="col-md-6">
            <dir-pagination-controls max-size="8"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>

    <!--Tabla con datos-->
    <div class="row form-group">
        <div class="col-md-12">
            @{  if (sPermiso.Contains("C") | sPermiso.Contains("D"))
                {
                    if (sPermiso.Contains("D"))
                    {
                        <tree-grid tree-data="tree_data"
                                   col-defs="col_defs"
                                   expand-on="expanding_property"
                                   funct-del="ActionUrl"
                                   on-dbl-click="dbl_click(branch.EsquemaID)"
                                   on_click_delete="validarEliminarEsquema(branch.EsquemaID)">
                        </tree-grid>
                    }
                    else
                    {
                        <tree-grid tree-data="tree_data"
                                   col-defs="col_defs"
                                   expand-on="expanding_property"
                                   @*funct-del="ActionUrl"*@
                                   on-dbl-click="dbl_click(branch.EsquemaID)"
                                   on_click_delete="validarEliminarEsquema(branch.EsquemaID)">
                        </tree-grid>
                    }

                }
                else if (sPermiso.Contains("U") | sPermiso.Contains("R") | sPermiso.Contains("E") | sPermiso.Contains("O") | sPermiso.Contains("P"))
                {
                    <tree-grid tree-data="tree_data"
                               col-defs="col_defs"
                               expand-on="expanding_property"
                               @*funct-del="ActionUrl"*@
                               on-dbl-click="dbl_click(branch.EsquemaID)"
                               on_click_delete="validarEliminarEsquema(branch.EsquemaID)">

                    </tree-grid>
                }
            }


            @*<tree-grid tree-data="tree_data" 
                       col-defs="col_defs" 
                       expand-on="expanding_property" 
                       funct-del="ActionUrl"
                       on-dbl-click="dbl_click(branch.EsquemaID)" 
                       on_click_delete="validarEliminarEsquema(branch.EsquemaID)"
                       >

            </tree-grid>*@
        </div>
    </div>

    @{ Html.RenderPartial("MsgBox/MsgBoxAux"); }
    @{ Html.RenderPartial("MsgBox/YesNoMsgBoxAux"); }
</div>



