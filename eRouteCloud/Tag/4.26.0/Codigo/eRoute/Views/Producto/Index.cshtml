@using eRoute.Helpers

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Menu/Index.cshtml";
}
<style>
    @@media (min-width: 992px) {
        .col-md-1 {
            width: 9.333333%;
        }
    }

    @@media (min-width: 992px) {
        .col-md-2 {
            width: 15.666667%;
        }
    }

    .table-hover tr {
        /*background: #FFFFFF;*/

        /*background: #B40002;
        background: rgb(179,0,0);*/
    }

    .scroll-Productos {

        /*width: auto;
        height: 200px;*/
        max-height: 0%;
        overflow-y: scroll;
    }
}
</style>

<div class="container valores margen-tabla" ng-controller="productosController" ng-init="AsignarPermisoProductos('@ViewBag.Permiso'); obtenerProductos()">
    <div class="row">
        <div class="col-md-12 header">
            <h3 class="titulo-altura">{{translation.XProductos}}</h3>
            @{string sPermiso = ViewBag.Permiso;}
        </div>
    </div>
    <div class="row header-valores">
        @{  if (sPermiso.Contains("C"))
            {
                <div class="col-md-1">
                    @Html.ImageActionLink("../Content/images/crear.png", Url.Action("Create", new { Permiso = ViewBag.Permiso }), "{{translation.BTCrear}}")
                </div>
            }
        }

        <div class="col-md-2">
            @Html.ImageActionLink("../Content/images/actualizar.png", "javascript:location.reload()", "{{translation.BTActualizar}}")
        </div>
        <div class="col-md-3">
            <form>
                <div class="input-group">
                    <span class="input-group-addon"><img width="16" height="16" src="../Content/images/buscar.png" /></span>
                    <input type="text" placeholder="{{translation.BTBuscar}}" class="form-control" ng-model="search" />
                </div>
            </form>
        </div>
        <div class="col-md-6">
            <dir-pagination-controls max-size="9"
                                     direction-links="true"
                                     boundary-links="true">
            </dir-pagination-controls>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <table cellpadding="12" class="table table-bordered table-hover">
                <thead style="position: -webkit-sticky; position: sticky; top: 0 !important">
                    <tr style="background: rgb(179,0,0); color:#ffffff; font-weight: 700;">
                        <th style="width:5%"></th>
                        <th class="cursor-pointer" ng-click="sort('ProductoClave')"><b>{{translation.PROProductoClave}}</b>  <span class="glyphicon sort-icon" ng-show="sortKey=='ProductoClave'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                        <th class="cursor-pointer" ng-click="sort('Nombre')"><b>{{translation.PRONombreCorto}}</b>  <span class="glyphicon sort-icon" ng-show="sortKey=='Nombre'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                        <th class="cursor-pointer" ng-click="sort('Id')"><b>{{translation.PROId}}</b>  <span class="glyphicon sort-icon" ng-show="sortKey=='Id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                        <th class="cursor-pointer" ng-click="sort('Tipo')"><b>{{translation.PROTipo}}</b>  <span class="glyphicon sort-icon" ng-show="sortKey=='Tipo'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                        <th class="cursor-pointer" ng-click="sort('TipoFase')"><b>{{translation.PROTipoFase}}</b>  <span class="glyphicon sort-icon" ng-show="sortKey=='TipoFase'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                    </tr>
                </thead>
                <tbody>
                    <tr dir-paginate="pro in cProductoList|orderBy:sortKey:reverse|filter:search|itemsPerPage:tamPag">
                        <td>
                            @{  if (sPermiso.Contains("U"))
                                {
                                    @Html.ImageAction("../Content/images/editar.png", HttpUtility.UrlDecode(Url.Action("Edit", "Producto", new { ProductoClave = "{{pro.ProductoClave}}", Permiso = ViewBag.Permiso })), "{{translation.BTModificar}}")
                                }
                                else if (sPermiso.Contains("R"))
                                {
                                    @Html.ImageAction("../Content/images/consultar.png", HttpUtility.UrlDecode(Url.Action("Details", "Producto", new { USUId = "{{pro.ProductoClave}}", Permiso = ViewBag.Permiso })), "{{translation.btConsultar}}")
                                }
                            }
                            @*&nbsp &nbsp
                                @{  if (sPermiso.Contains("D"))
                                    {
                                        @Html.ImageButton("../Content/images/eliminar.png", "ValidarEliminarProducto(pro.ProductoClave)", "{{translation.BTEliminar}}")
                                    }
                                    else if (sPermiso.Contains("R"))
                                    {
                                        @Html.ImageAction("../Content/images/consultar.png", HttpUtility.UrlDecode(Url.Action("Details", "Producto", new { USUId = "{{pro.ProductoClave}}", Permiso = ViewBag.Permiso })), "{{translation.btConsultar}}")
                                    }
                                }*@
                        </td>
                        <td>{{pro.ProductoClave}}</td>
                        <td>{{pro.Nombre}}</td>
                        <td>{{pro.Id}}</td>
                        <td>{{pro.Tipo}}</td>
                        <td>{{pro.TipoFase}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    @{ Html.RenderPartial("MsgBox/YesNoMsgBox"); }
    @{ Html.RenderPartial("MsgBox/MsgBox"); }
</div>



