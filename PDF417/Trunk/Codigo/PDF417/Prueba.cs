using System;
using System.Collections.Generic;
using System.Text;
using System.Drawing.Imaging;

namespace Pdf417lib
{
    class Prueba
    {
        
        static void Main(string[] args)
        {
            if (args.Length < 2)
            {
                System.Console.Out.WriteLine("PDF417 barcode postscript generator");
                System.Console.Out.WriteLine("Usage: java Pdf417lib postscript_file_name barcode_text");
                return;
            }
            try
            {
                cPDF417.ObtenerImagenCodigo("Amesol es la onda", 300).Save("mips1.bmp", ImageFormat.Bmp);
                cPDF417.ObtenerImagenCodigo("10089|1|02/06/2011|01,153|02,317|03,506|04,170|05,28|06,46|07,64|08,36|19,9|23,93|24,72|25,99|32,3|42,8|43,84|44,44|49,6|54,4|55,56|56,168|61,1|62,5|63,1|64,13|66,3|69,6|71,2|74,6|76,24|77,48|79,96|80,144|81,6|86,6|91,30|93,28|94,120|95,84|97,3|99,12||||||||||||||||||||||||||||", 300).Save("mips2.bmp", ImageFormat.Bmp);
                cPDF417.ObtenerImagenCodigo("10016|1|03/07/2010|10000001,1,24|10000002,1,12|10000004,1,12|20000001,1,24|20000002,1,16|20000003,1,9|20000004,1,4|20000005,1,24|20000006,1,16|20000007,1,9|20000008,1,4|20000009,1,40|20000010,1,40|40000003,1,72|40000015,1,12|40000020,1,54|60000001,1,264|70000011,1,1|70000014,1,20|70000015,1,20|70000016,1,20|70000025,1,20|80000003,1,5|90000001,1,24|120000001,1,2|120000005,1,2|120000006,1,1|120000007,1,1|120000008,1,5|120000009,1,10|120000010,1,2|120000011,1,1|130000001,1,4|130000002,1,361|130000003,1,641|130000004,1,90|130000005,1,80|130000006,1,4|130000007,1,49|160000003,1,15|160000004,1,8|190000001,1,4|190000002,1,2|190000003,1,2|190000004,1,2|190000006,1,10|190000009,1,2|190000010,1,2|200000002,1,12|220000002,2,18.3000|230000001,1,2|240000001,1,48|250000002,1,10|260000001,1,2|300000001,1,13|300000002,1,6|300000003,1,25|300000004,1,24|300000005,1,16|300000006,1,25|300000007,1,84|300000008,1,58|300000009,1,15|300000010,1,3|300000011,1,15|300000012,1,8|300000014,1,28|300000015,1,29|300000016,1,51|300000017,1,48|300000018,1,15|300000019,1,5|300000020,1,15", 300).Save("mips.bmp", ImageFormat.Bmp);

                /*Pdf417lib pd = new Pdf417lib();
                //pd.setText(args[1]);
                //pd.setText("000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|000000,12,9999|");
                //pd.setText("USUARIOX,58,06/06/2010|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,9901,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|01,99|");
                pd.setText("10089|1|02/06/2011|01,153|02,317|03,506|04,170|05,28|06,46|07,64|08,36|19,9|23,93|24,72|25,99|32,3|42,8|43,84|44,44|49,6|54,4|55,56|56,168|61,1|62,5|63,1|64,13|66,3|69,6|71,2|74,6|76,24|77,48|79,96|80,144|81,6|86,6|91,30|93,28|94,120|95,84|97,3|99,12||||||||||||||||||||||||||||");
                pd.Options = Pdf417lib.PDF417_INVERT_BITMAP;
                pd.paintCode();
                pd.DrawBarcodeImage(2, 3).Save("mips.bmp", ImageFormat.Bmp);*/
                
                /*System.IO.StreamWriter pr = new System.IO.StreamWriter(new System.IO.FileStream(args[0], System.IO.FileMode.Create));
                int cols = (pd.BitColumns - 1) / 8 + 1;
                pr.WriteLine("/Times findfont\n12 scalefont setfont\n100 80 moveto\n(A PDF417 example.)show");
                pr.WriteLine("stroke\n100 100 translate\n" + pd.BitColumns / 2.0 + " " + pd.CodeRows * 3 / 2.0 + " scale");
                pr.Write(pd.BitColumns + " " + pd.CodeRows + " 1 [" + pd.BitColumns + " 0 0 " + (-pd.CodeRows) + " 0 " + pd.CodeRows + "]{<");
                sbyte[] out_Renamed = pd.OutBits;
                for (int k = 0; k < out_Renamed.Length; ++k)
                {
                    if ((k % cols) == 0)
                        pr.WriteLine();
                    pr.Write(System.Convert.ToString((out_Renamed[k] & 0xff) | 0x100, 16).Substring(1).ToUpper());
                }
                pr.WriteLine("\n>}image\nshowpage");
                //UPGRADE_NOTE: Exceptions thrown by the equivalent in .NET of method 'java.io.PrintWriter.close' may be different. 'ms-help://MS.VSCC.2003/commoner/redir/redirect.htm?keyword="jlca1099"'
                pr.Close();*/
            }
            catch (System.Exception e)
            {
                SupportClass.WriteStackTrace(e, Console.Error);
            }
        }
    }
}
