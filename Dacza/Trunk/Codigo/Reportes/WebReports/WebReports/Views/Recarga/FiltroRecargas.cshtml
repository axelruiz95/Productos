@model WebReports.Models.FilterModels.FilterRecargas

@{
    ViewBag.Title = "Solicitudes de Recarga";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<hgroup class="title">
    <h1>@ViewBag.Title</h1>    
</hgroup>
<p />

<section id="filterForm">
@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    
       
    <div class="container">
        <div class="container-left form-horizontal">
            <div class="form-group">
                <label for="sucursal" class="col-lg-3 control-label text-label">
                    Sucursal</label>
                <div class="col-lg-0 filter-width">                        
                    @Html.DropDownListFor(m => m.Sucursal, new SelectList((List<WebReports.Models.Sucursal>)(ViewBag.Sucursales), "SucursalId", "Descripcion", ((List<WebReports.Models.Sucursal>)(ViewBag.Sucursales)).First().SucursalId), new { @id = "ddlSucursal", @class = "form-control" })
                </div> 
            </div>
            <div class="form-group">
                <label for="fechaIni" class="col-lg-3 control-label text-label">
                    Fecha Inicial</label>
                <div class='col-lg-0 input-group date filter-width' id='dtpFechaIni'>
                    <div>
                        @Html.TextBoxFor(model => model.FechaIni, new { @class = "form-control", @placeholder = "Fecha Inicial" })
                    </div>
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
            <div class="form-group">
                <label for="fechaFin" class="col-lg-3 control-label text-label">
                    Fecha Final</label>
                <div class='col-lg-0 input-group date filter-width' id='dtpFechaFin'>
                    <div>
                        @Html.TextBoxFor(model => model.FechaFin, new { @class = "form-control", @placeholder = "Fecha Final" })
                    </div>
                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>         
        </div>

        <div class="container-right form-horizontal">            
           <div class="form-group">
                <label for="taller" class="col-lg-3 control-label text-label">
                    Taller</label>
                <div class="col-lg-0 filter-width">                    
                    @Html.DropDownListFor(m => m.Taller, new SelectList(string.Empty, "Value", "Text"), new { @id = "ddlTalleres", @class = "form-control" })
                </div> 
            </div> 
            <div class="form-group">
                <label for="estado" class="col-lg-3 control-label text-label">
                    Estado</label>
                <div class="col-lg-0 filter-width">
                    @{
                       List<SelectListItem> listItems= new List<SelectListItem>();
                       listItems.Add(new SelectListItem{
                           Text = "Todos",
                           Value = "255",
                           Selected = true
                       });
                       listItems.Add(new SelectListItem{
                            Text = "Cancelada",
                            Value = "0"
                        });                       
                       listItems.Add(new SelectListItem{
                            Text = "Cerrada",
                            Value = "2"
                        });
                       listItems.Add(new SelectListItem
                       {
                           Text = "Surtida",
                           Value = "3"
                       });
                    }
                    @Html.DropDownListFor(m => m.Fase, listItems, new { @class = "form-control" }) 
                </div>
            </div>           
        </div>
    </div> 
    
    <hr />       
    <div class="container-left">
        <input type="submit" value="Continuar" class="btn btn-default" />
    </div>
}
</section>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")   
    <link href="../Content/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css" />  
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script src="../Scripts/moment.min.js"></script>
    <script src="../Scripts/moment-with-locales.min.js"></script>
    <script src="../Scripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="../Scripts/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
    <script src="../Scripts/custom.js" type="text/javascript"></script>

    <script type="text/javascript">

         $(document).ready(function () {
             CargarTalleres();

             $('#ddlSucursal').change(function () {
                 CargarTalleres();
             });
         });

    </script>
}
